---
layout: ""
page_title: "TransparentEdge Terraform Provider"
description: |-
    The TransparentEdge provider to interact directly with the autoprovisioning
    capabilities of the CDN via API.
---

# TransparentEdge Terraform Provider

A terraform provider for the CDN of [Transparent Edge](https://www.transparentedge.eu/).  
This provider is intended to be used by the CDN users with the role "Company Admin", although some services do not require this role.

## Example usage

```terraform
terraform {
  required_providers {
    transparentedge = {
      source  = "TransparentEdge/transparentedge"
      version = ">=0.6.0"
    }
  }
}

# Configure the provider
provider "transparentedge" {
  company_id = 300
}

# Create a backend
resource "transparentedge_backend" "origin1" {
  name   = "origin1"
  origin = "origin.example.com"
  port   = 443
  ssl    = true

  # health check
  hchost       = "www.origin.example.com"
  hcpath       = "/favicon.ico"
  hcstatuscode = 200
}
```

## Configuration and authentication

Configuration for the provider is applied in the following order:

1. Parameters set directly in the provider configuration (`.tf` file)
2. Environment variables

### Provider configuration

!> **Warning:** Hard-coded credentials are not recommended in any Terraform
configuration and risks secret leakage should this file ever be committed to a
public version control system. It's recommended to use environment variables instead.

Usage:

```terraform
provider "transparentedge" {
  # Provider configuration overrides environment variables
  # it's recommended to use environment variables for company_id, client_id and client_secret
  company_id    = 300
  client_id     = "XXX"
  client_secret = "XXX"
  insecure      = false                            # this is the default value
  api_url       = "https://api.transparentcdn.com" # this is the default value
  auth          = true                             # false if you only use data-sources that do not require authentication such as 'transparentedge_ip_ranges'
}
```

### Environment variables

Configuration can be provided using environment variables, this is the recommended approach.  

Example:  

```terraform
provider "transparentedge" {}
```

```shell
$ export TCDN_COMPANY_ID=0
$ export TCDN_CLIENT_ID="xxx"
$ export TCDN_CLIENT_SECRET="xxx"
```

You can find all the required parameters in our [dashboard](https://dashboard.transparentcdn.com/): `"Profile" -> "Account options" -> "Manage keys".`  

Make sure that you're using the correct `Company ID` if you own multiple companies.  

Optional environment variables:  

```shell
# Not required, default values are:
$ export TCDN_API_URL="https://api.transparentcdn.com"
$ export TCDN_INSECURE=false
```

## Configuration reference

|Setting|Provider|Environment variable|Default value|
|-------|--------|--------------------|-------------|
|Company ID|`company_id`|`TCDN_COMPANY_ID`|N/A|
|Client ID|`client_id`|`TCDN_CLIENT_ID`|N/A|
|Client Secret|`client_secret`|`TCDN_CLIENT_SECRET`|N/A|
|API URL|`api_url`|`TCDN_API_URL`|`https://api.transparentcdn.com`|
|Insecure|`insecure`|`TCDN_INSECURE`|`false`|
|Auth|`auth`|N/A|`true`|

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `api_url` (String) URL of Transparent Edge API. default: `https://api.transparentcdn.com`. May also be provided via `TCDN_API_URL` environment variable.
- `auth` (Boolean) Set to false if your configuration only consumes data sources that do not require authentication, such as `transparentedge_ip_ranges`.
- `client_id` (String, Sensitive) Client ID (`dashboard -> profile -> account options -> manage keys`). May also be provided via `TCDN_CLIENT_ID` environment variable.
- `client_secret` (String, Sensitive) Client Secret (`dashboard -> profile -> account options -> manage keys`). May also be provided via `TCDN_CLIENT_SECRET` environment variable.
- `company_id` (Number) Company ID number (for ex: `300`). May also be provided via `TCDN_COMPANY_ID` environment variable.
- `insecure` (Boolean) Ignore TLS certificate for `api_url`. May also be provided via `TCDN_INSECURE` environment variable.
